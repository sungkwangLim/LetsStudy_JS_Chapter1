<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카카오링크공유</title>

    <!-- font -->    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">

    <!-- css -->
	<link href="../assets/css/common.css" rel="stylesheet" type="text/css">    
	<link href="../assets/css/main.css" rel="stylesheet" type="text/css">    

    
    
</head>
<body>
    <section id="wrap">
        <!-- 테스트 -->
        <button type="button" id="btnKakaoShare"><span>kakao link</span></button>
    </section>
<!-- js api -->
<script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
<!-- js -->
<script>
    // SDK를 초기화 합니다. 사용할 앱의 JavaScript 키를 설정해 주세요.
    const kakaoKey = '6fdd068c7c037121a78dba49da8fd186'
    Kakao.init(kakaoKey);

    // SDK 초기화 여부를 판단합니다.
    console.log(Kakao.isInitialized());

    const btnKakaoShare = document.querySelector('#btnKakaoShare');
    btnKakaoShare.addEventListener('click',function(){
        const title = 'test_title';
        const desc = 'test_desc';
        const url = 'https://github.com/sungkwangLim';
        const img = 'https://avatars.githubusercontent.com/u/74582792?v=4?s=400';
        kakaoShareLink(title,url,desc,img);
    }); 
    function kakaoShareLink(title,url,desc,img){
        const setting = {
			objectType: 'feed',
			content: {
				title: title,
				description: desc,
				imageUrl: img,
				link: {
					mobileWebUrl: url,
					webUrl: url
				}
			},
			buttons: [
				{
					title: '웹으로 보기',
					link: {
						mobileWebUrl: url,
						webUrl: url
					}
				}
			]
		};
		Kakao.Link.sendDefault(setting);
    }

</script>
</body>
</html>